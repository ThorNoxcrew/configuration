server = event

worlds = [
    {
        name = rocket_spleef_rush

        librarySections = {
            ref_maps = [
                [-1, -1]
                [-2, -1]
                [-3, -1]
                [0, -1]
                [-1, 0]
                [-2, 0]
                [0, 0]
                [-3, 0]
            ]
        }
    }
]

scans = [
    {
        sections = [
            ref_maps
        ]
        targets = {
            drop_zone = {
                type = REGION
                amount = "1"
            }
            maps =  {
                type = REGION
                amount = 1..
                metadata = {
                    "Id" = {
                        type = String
                    }
                }
            }
        }
    }
    {
        areas = [
            drop_zone
        ]
        targets = {
            player_spawnpoints = {
                type = TRANSFORM
                marker = "mcc:markers.player_spawnpoint"
                amount = "40"
                metadata = {
                    "Team" = {
                        type = String
                        amount = "4"
                        values = [
                            Red
                            Orange
                            Yellow
                            Lime
                            Green
                            Cyan
                            Aqua
                            Blue
                            Purple
                            Pink
                        ]
                    }
                }
            }

            spectator_spawnpoint = {
                type = TRANSFORM
                marker = "mcc:markers.spectator_spawnpoint"
                amount = 1..
            }
        }
    }
    {
        areas = [
            maps
        ]
        targets = {
            element = {
                type = REGION
                amount = 1..
                metadata = {
                    # The time this element will remain for before breaking down.
                    "Stay" = {
                        type = Int
                    }
                    # The weight this element holds within the pool of all applicable elements. 
                    "Weight" = {
                        type = Int
                        default = "1"
                    }
                    # The minimum seconds that needs to elapse into the round before this element is eligible.
                    "MinTime" = {
                        type = Int
                        default = "0"
                    }
                    # The maximum seconds that can elapse into the round before this element is no longer eligible.
                    "MaxTime" = {
                        type = Int
                        default = "999"
                    }
                    # The minimum players that needs to be alive before this element is eligible.
                    "MinPlayers" = {
                        type = Int
                        default = "0"
                    }
                    # The maximum players that can be alive before this element is no longer eligible.
                    "MaxPlayers" = {
                        type = Int
                        default = "40"
                    }
                    # The directions from which we cannot enter this element.
                    "BlockedEntry" = {
                        type = StringList
                        count = 0..8
                        values = [
                            NORTH
                            NORTH_EAST
                            NORTH_WEST
                            EAST
                            WEST
                            SOUTH
                            SOUTH_EAST
                            SOUTH_WEST
                        ]
                    }
                    # The directions in which we cannot leave this element.
                    "BlockedExit" = {
                        type = StringList
                        count = 0..8
                        values = [
                            NORTH
                            NORTH_EAST
                            NORTH_WEST
                            EAST
                            WEST
                            SOUTH
                            SOUTH_EAST
                            SOUTH_WEST
                        ]
                    }
                }
            }
        }
    }
    {
        areas = [
            element
        ]
        targets = {
            anchor = {
                type = BLOCK
                amount = "1"
            }
            indicator = {
                type = BLOCK
                amount = "1"
            }
            stage = {
                type = REGION
                metadata = {
                    # The time relative to the element at which this stage appears.
                    "InTime" = {
                        type = Int
                        default = "999"
                    }
                    # The time relative to the element at which this stage disappers.
                    "OutTime" = {
                        type = Int
                        default = "999"
                    }
                }
            }
        }
    }
]
