worlds = [
    {
        server = event
        name = build_mart

        unusedSections = {
            classic = [
                [0, 0]
            ]
        }
        sections = {
            skies = [
                [2, 0]
            ]
            ref_builds = [
                [-18, 11]
                [-17, 11]
            ]
        }
    }
]

scanner = [
    {
        // Syntax for these is: use section if any of the filters in this list match.
        // Filter syntax, ~ flips whether characters need to match or not.
        // * is a standin for any amount of any character.
        // [key=value&key2=value2] can be added at the end of a string to add additional
        // filtering.
        sections = [
            ~ref_builds
        ]
        markers = [
            activatables
        ]
        targets = {
            // spawn
            player_spawnpoints = {
                type = grouped
                marker = "mcc:markers.player_spawnpoints"
                amount = 40
            }
            spectator_spawnpoints = {
                type = single
                marker = "mcc:markers.spectator_spawnpoints"
                amount = 1..
            }

            // general regions
            resource_areas = {
                type = area
                marker = "mcc:markers.build_mart.resource_area"
                amount = 1..
            }
            team_areas = {
                type = area
                marker = "mcc:markers.build_mart.team_area"
                amount = 10
            }
            
            // portal
            mart_portal = {
                type = area
                marker = "mcc:markers.build_mart.mart_portal"
                amount = 1
            }

            // activatable
            fan = {
                type = single
                marker = "mcc:markers.build_mart.fan"
                amount = 1..
            }
        }
    }
    {
        // Scan through the contents of each team area
        areas = [
            team_areas
        ]
        targets = {
            team_portal = {
                type = area
                marker = "mcc:markers.build_mart.team_portal"
                amount = 1
            }

            example_plots = {
                type = area
                marker = "mcc:markers.build_mart.example_plot"
                amount = 3
            }
            target_plots = {
                type = area
                marker = "mcc:markers.build_mart.target_plot"
                amount = 3
            }
            plot_holograms = {
                type = single
                marker = "mcc:markers.build_mart.plot_hologram"
                amount = 3
            }
        }
    }
    {
        // Find all build templates in the reference area
        sections = [
            ref_builds
        ]
        targets = {
            build_templates = {
                type = single
                marker = "mcc:markers.build_mart.build_template"
                amount = 1..
                metadata = {
                    "Build" = {
                        type = String
                    }
                }
            }
        }
    }
    {
        // Within build templates we have viewer npcs
        areas = [
            build_templates
        ]
        targets = {
            viewer_npcs = {
                type = single
                marker = "mcc:markers.build_mart.viewer_npc"
                metadata = {
                    "Username" = {
                        type = String
                    }
                }
            }
        }
    }
]
